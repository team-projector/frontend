<jnt-block [fluid]="true">
  <jnt-table>
    <jnt-table-column i18n-title="@@issue_title" title="Title" sort="title"></jnt-table-column>
    <jnt-table-column i18n-title="@@issue_project" title="Project"></jnt-table-column>
    <jnt-table-column i18n-title="@@est" title="Est"></jnt-table-column>
    <jnt-table-column i18n-title="@@issue_time_spent" title="Spent"></jnt-table-column>
    <jnt-table-column i18n-title="@@issue_time_remains" title="Remains"></jnt-table-column>
    <jnt-table-column i18n-title="@@eff" title="Eff"></jnt-table-column>
    <jnt-table-column i18n-title="@@payroll" title="Payroll"></jnt-table-column>
    <jnt-table-column i18n-title="@@paid" title="Paid"></jnt-table-column>

    <ng-template #rowTemplate let-id="id"
                 let-title="title"
                 let-url="glUrl"
                 let-state="state"
                 let-labels="labels"
                 let-project="project"
                 let-timeEstimate="timeEstimate"
                 let-timeSpent="timeSpent"
                 let-totalTimeSpent="totalTimeSpent"
                 let-metrics="metrics">
      <td>
        <jnt-stack [type]="ui.stack.type.horizontal">
          <a href="{{url}}" target="_blank" [class.closed]="state == issuesState.closed">{{title}}</a>
          <jnt-stack [type]="ui.stack.type.horizontal" [gutter]="ui.stack.gutter.small">
            <jnt-label *ngFor="let l of labels" [color]="l.color" [label]="l.title"></jnt-label>
          </jnt-stack>
        </jnt-stack>
      </td>
      <td>
        {{project.presentation}}
      </td>
      <td style="text-align: right;">
        {{timeEstimate | duration}}
      </td>
      <td style="text-align: right;">
        {{totalTimeSpent | duration}}
      </td>
      <td style="text-align: right;">
        {{metrics.remains | duration}}
      </td>
      <td style="text-align: right;">
        {{metrics.efficiency | number:'1.2-2'}}x
      </td>
      <td style="text-align: right;">
        {{metrics.payroll | currency:'RUB'}}
      </td>
      <td style="text-align: right;">
        {{metrics.paid | currency:'RUB'}}
      </td>
    </ng-template>
  </jnt-table>
</jnt-block>
